\documentclass[a4paper,12pt]{article}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hhline}
\usepackage{hyperref}
\usepackage{bm}
\usepackage[margin=2cm]{geometry}

\usepackage{amsthm}
\usepackage{tikz}
\usepackage{tabularx}
\usepackage{graphicx}
\usetikzlibrary{shapes.geometric, arrows}
\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!30]
\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=blue!30]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30]
\tikzstyle{decision} = [diamond,aspect = 2, text centered, draw=black, fill=green!30]
\tikzstyle{arrow} = [thick,->,>=stealth]
\usepackage{newunicodechar}
\newunicodechar{â‰ }{\ensuremath{\not =}}
\usepackage{textcomp}
\usepackage[makeroom]{cancel}

\newlength\mylength
\setlength\mylength{0.1cm}
\newcolumntype{Y}{>{\Centering\arraybackslash}X}

\AtBeginEnvironment{array}{\everymath{\displaystyle}}
\newtheoremstyle{break}
  {\partopsep}{\topsep}%  
  {\normalfont}{}
  {\bfseries}{}%
  {\newline}{}%
  \theoremstyle{break}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{remark}[section]{Remark}
\newtheorem{lemma}{Lemma}[section]
\renewcommand*{\proofname}{\textbf{Proof}}
\renewcommand\qedsymbol{$\bigstar$}
\newtheorem{definition}{Definition}[section]
\renewcommand\labelenumi{(\theenumi)}

\let\oldemptyset\emptyset
\let\emptyset\varnothing

\newcommand{\ind}{\perp\!\!\!\!\perp} 
\newcommand{\measurespace}{(X, \mathcal{M}, \mu)}
\newcommand{\sigalg}{\sigma\mbox{-algebra}}
\newcommand{\boreal}{\mathcal{B}(\mathbb{R})}
\newcommand{\real}{\mathbb{R}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\xdownarrow}[1]{%
  {\left\downarrow\vbox to #1{}\right.\kern-\nulldelimiterspace}
}
\newcommand{\xuparrow}[1]{%
  {\left\uparrow\vbox to #1{}\right.\kern-\nulldelimiterspace}
}
\newcommand{\arrvline}{\hfil\kern\arraycolsep\vline\kern-\arraycolsep\hfilneg}

\long\def\symbolfootnotemark[#1]#2{\begingroup%
\def\thefootnote{\fnsymbol{footnote}}\footnotetext[#1]{#2}\footnotemark[#1]\endgroup}

\long\def\symbolfootnotetext[#1]#2{\begingroup%
\def\thefootnote{\fnsymbol{footnote}}\footnotetext[#1]{#2}\endgroup}


\numberwithin{equation}{section}





\begin{document}
\section{Lesson 21/09/2022}
\subsubsection*{Lebesgue measure}
\(\mathcal{E}\) = family of open intervals (a,b), \(a,b \in \mathbb{R}^*, a < b\). \(\rho =\) lenght \(l\).
\(\rho((a,b)) = b - a\). 

\underline{Notations:} open interval \(I\) with lenght \(l(I)\)
\subsubsection*{Outer measure}
\(E \subset \real\). The outer measure of \(E\) is 
\[
    \lambda^*(E) = \inf \left\lbrace \sum_{n=1}^{+\infty} l(I_n) \vert I_n \mbox{ is an open interval, } E \subset \bigcup_{n = 1}^{\infty} I_n \right\rbrace
\]
\subsubsection*{Caratheodory condition (CC)}
\(A \subset \real\) is \(\lambda^*\)-measurable if 
\[
    \lambda^*(E) = \lambda^*(E \cap A) + \lambda^*(E \cap A^C) \qquad \forall \; E \subset \real
\]
\[
    \left\lbrace A \subset \real : A \mbox{ is }\lambda^*\mbox{-measurable} \right\rbrace =: \mathcal{L}(\real)
\tag*{(Lebesgue \(\sigalg\))}\]
\[
    \lambda := \lambda^* \vert_{\mathcal{L}(\real)}
\tag*{(Lebesgue measure on \(\real\))}\]
Then, \((\real, \mathcal{L}(\real), \lambda)\) is a complete measure space. In particular, \(\lambda^*(A) = 0 \Longrightarrow A \in \mathcal{L}(\real)\) and \(\lambda(A) = 0\).
\begin{remark}[CC-Criterion for measurability]
    To check that \(A\) is \(\lambda^*\)-measurable, it is sufficient to check that 
    \[
        \lambda^* \geq \lambda^*(E \cap A) + \lambda^*(E \cap A^C)
    \] for every \(E \subset \real\) rith \(\lambda^*(E) < +\infty\)
\end{remark}
\begin{proposition}
    Any countable set is measurable, with \(0\) Lebesgue measure.
\end{proposition}
\begin{proof}
    Let \(a \in \real\), \[\left\lbrace a \right\rbrace \subseteq (a-\epsilon, a+\epsilon), \forall \; \epsilon > 0 \overset{\mbox{by def.}}{\Longrightarrow} \lambda^*(\left\lbrace a \right\rbrace) \leq 2\epsilon \overset{\mbox{lim}}{\Longrightarrow} \lambda^*(\left\lbrace a \right\rbrace) = 0\]
    \(\left\lbrace a \right\rbrace\) is measurable with \(\lambda(\left\lbrace a \right\rbrace) = 0, \forall \; a \in \real\). Now if a set \(A\) is countable, \(A = \left\lbrace a_n \right\rbrace_{n \in \mathbb{N}} = \bigcup_n \left\lbrace a_n \right\rbrace\) (disjoint) \(\Longrightarrow \lambda(A) \underset{\sigma-add}{=} \sum_n \lambda(\left\lbrace a_n \right\rbrace) = 0\)
\end{proof}
\begin{remark}
    \(\lambda(\mathbb{Q} = 0)\). \(\mathbb{Q}\) is dense on \(\real\), \(\bar{\mathbb{Q}} = \real\). In general, measure theoretical info and topological info cannot be compared.
\end{remark}
\begin{proposition}
    \(\boreal \subseteq \mathcal{L}(\real)\)
\end{proposition}
\begin{remark}
    So far we didn't prove the fact that open intervals are \(\mathcal{L}\)-measurable.
\end{remark}
\begin{proof}
    We know that \(\boreal\) is generated by \(\left\lbrace (a, +\infty) : a \in \real \right\rbrace\). Then, we can directly show that \((a, +\infty) \in \mathcal{L}(\real) \quad \forall \; a \in \real\). Let \(a \in \real\) be fixed. We use the criterion for measurability and we check that 
    \[
        \lambda^* (E) \geq \lambda^*\underbrace{(E \cap (a, +\infty)}_{=: E_1} + \lambda^*\underbrace{(E \cap (-\infty, a])}_{=:E_2} \quad \forall\; E \subset \real, \, \lambda^* < +\infty
    \]
    Since \(\lambda^*(E) < +\infty\), \(\exists\) a countable union \(\bigcup_n I_n \supset E\), where \(I_n\) is an open interval \(\forall \; n\) and 
    \[
        \sum_n l(I_n) \leq \lambda^*(E) + \epsilon
    \]
    Let \(I^1_n := I_n \cap E_1, I^2_n := I_n \cap (-\infty, a + \frac{\epsilon}{2^n})\). These are open intervals:
    \[
        E_1 \subset \bigcup_n I^1_n \qquad E_2 \subset_n I^2_n
    \tag*{countable unions}\]
    and moreover 
    \[
        l(I_n) \geq l(I^1_n) + l(I^2_n) - \frac{\epsilon}{2^n}
    \]
    By definition of \(\lambda^*\), \(\lambda^*(E_1) \leq \sum_n l(I^1_n)\) and \(\lambda^* (E_2) \leq \sum_n l(I^2_n)\), therefore 
    \[
        \lambda^*(E_1) + \lambda^*(E_2) \leq \sum_n l(I^1_n) + \sum_n l(I^2_n) \leq \sum_n \left(l(I_n) +\frac{\epsilon}{2^n}\right) = \left(\sum_n l(I_n)\right) + \epsilon \leq \lambda^*(E) + 2\epsilon
    \]
    Since \(\epsilon\) was arbitrarily chosen, we have
    \[
        \lambda^*(E) \geq \lambda^*(E_1) + \lambda^*(E_2)
    \]  
    which is the thesis.
\end{proof}
So, the Lebesgue measure measures all the open, closed \(G_{\delta}\), \(F_{\delta}\) sets. Clearly
\[
    \lambda((a,b)) = b-a
\]
One can also show that \(\lambda\) is invariant under translation. 

\underline{Questions:} \(\boreal \subseteq \mathcal{L}(\mathbb{R}) \subseteq \mathcal{P}(\real)\), is it a strict inclusion or not?
\begin{itemize}
    \item By Ulam's theorem, if a measure is such that \(\lambda \left(\left\{ a \right\}\right) = 0, \forall \; a\) and all the sets in \(\mathcal{P}(\real)\) are measurable, then \(\lambda \equiv 0\). This and the fact that \(\lambda\left(\left(a,b\right)\right) \not = 0\) simply that \(\mathcal{L}(\real) \subsetneqq\symbolfootnotemark[3]{I had no choice} \mathcal{P}(\real) : \exists \mbox{ non-measurable sets}\) called Vitali sets. Every measurable set with positive measure contains a Vitali set. (\href{https://math.stackexchange.com/questions/137949/the-construction-of-a-vitali-set}{Explanation})
    \item \(\boreal \subsetneqq \mathcal{L}(\real)\). The construction of a \(\mathcal{L}\)-measurable se which is not a Borel set will be done during exercise classes.
\end{itemize}
The relation between \(\boreal\) and \(\mathcal{L}(\real)\) is clarified by 

\begin{theorem}[Regularity of \(\lambda\)]
    The following sentences are equivalent:
    \begin{enumerate}
        \item \(E \in \mathcal{L}(\real)\)
        \item \(\forall \; \epsilon > 0 \exists \; A \supset E\), \(A \mbox{ open}\) s.t.
        \[
            \lambda \left(A \backslash E\right) < \epsilon
        \]
        \item \(\exists \; G \supset E\), \(G \mbox{ of class } G_{\delta}\), s.t. 
        \[
            \lambda(G\backslash E) = 0
        \]
        \item \(\exists \; C \subset E\), \(C \mbox{ closed}\), s.t. 
        \[
            \lambda(E\backslash C) = 0
        \]
        \item \(\exists \; F \subset E\), \(F \mbox{ of class } F_{\delta}\), s.t. 
        \[
            \lambda(E\backslash F) = 0
        \]
    \end{enumerate}
\end{theorem}
\underline{\textbf{Consequence:}} \(E \in \mathcal{L}(\real) \Longrightarrow E = F \cup N\), where \(F\) is of class \(F_{\delta}\), and \(\lambda(N) = 0\).
\begin{proof}[Partial proof]
    For simplicity, we will consider only sets with finite measure.
    \begin{itemize}
        \item[\((1) \Rightarrow (2)\)] \(E \in \mathcal{L}(\real)\). By definition of \(\lambda^*\), \(\forall \; \epsilon > 0 \exists \; \bigcup_n I_n \supset E\) s.t. each \(I_n\) is an open interval, and 
        \[
            \lambda(E) = \lambda^*(E) \geq \sum_n l(I_n) -\epsilon
        \]
        We define \(A = \bigcup_n I_n\), which is open. Also \(A \supset E\) and 
        \[
            \lambda(A)= \lambda\left(\bigcup_n I_n\right) \overset{\sigma-\mbox{sub.}}{\leq} \sum_n l(I_n) \leq \lambda(E) + \epsilon
        \]
        Then, by excision
        \[
            \lambda(A \backslash E) = \lambda(A) - \lambda(E) \leq \epsilon
        \]
        \item[\((2) \Rightarrow (3)\)] Define, for every \(K \in \mathbb{N}\), an open set \(A_k\) s.t. \(A_k \supset E\) and \(\lambda(A_k \backslash E) < \frac{1}{k}\). Let \(A = \bigcap_k A_k\). This is a \(G_{\delta}\) set, it contains \(E\) (since each \(A_k\) contains \(E\)) and 
        \[
            \lambda(A \backslash E) \underset{(A \subset A_k \; \forall \; k)}{\leq} \lambda(A_k \backslash E) < \frac{1}{k} \Longrightarrow \lambda(A \backslash E) = 0 \quad \forall \; k
        \]
        \item[\((3) \Rightarrow (1)\)] If \(E \subset \real\) and \(\exists\; G \supset E\), with \(G\) of class \(G_{\delta},\) s.t. \(\lambda(G \backslash E) = 0\), then
        \[
            E = G \backslash(G \backslash E) \mbox{ is measurable}
        \]
        since \(G\) is a Borel set and \((G \backslash E)\) has \(0\) measure, then both are in \(\mathcal{L}\)
    \end{itemize}
\end{proof}
\begin{remark}
    Any countable set has \(0\) measure. he inverse is false. An example is given by the \textbf{Cantor set}.
    
    Let \(T_0 = [0,1]\). Then we define \(T_{n+1}\) stating from \(T_n\) in the following way:
    given \(T_n\), finite union of closed disjoint intervals of lenght \(l_n (\frac{1}{3})^n\), \(T_{n+1}\) is obtained by removing from each interval of \(T_n\), the open central subinterval of lenght \(\frac{l_n}{3}\).

    The Cantor set is \(T := \bigcap_{k=0}^{+\infty}\). It can be proved that \(T\) is compact, \(\lambda(T) = 0\) and \(T\) is uncountable.

    If, instead of removing intervals of size \(\frac{1}{3}, \frac{1}{9}, \ldots, \frac{1}{3^k}\), we remove sets of size \(\left(\frac{\epsilon}{3}\right)^k\), with \(\epsilon \in (0,1)\), we obtain the \textbf{generalized Cantor set} (or \textbf{fat Cantor set}) \(T_{\epsilon}\). \(T_{\epsilon}\) is uncountable, compact and has no interior points (it contains no intervals). However, \(\lambda(T_{\epsilon}) = \frac{3(1 -\epsilon)}{3 - 2\epsilon} > 0\)
\end{remark}
\begin{remark}
    We worked on \(\real\), but everything can be adapted to \(\real^n\)
\end{remark}
\subsubsection*{Measurable functions and integration}
\begin{definition}
    \(f:X \to Y\), then it is well defined the counterimage 
    \[
        f^{-1} : \mathcal{P}(Y) \to \mathcal{P}(Y)
    \]
    \[
        E \to f^{-1}(E) = \left\{ x \in X : f(x) \in E \right\}
    \]
\end{definition}
\begin{definition}
    \((X, \mathcal{M}), (Y, \mathcal{N})\) measurable spaces. \(f:X \to Y\) is called \textbf{measurable} or \((\mathcal{M}, \mathcal{N})\)-measurable if 
    \[
        f^{-1}(E) \in \mathcal{M} \mbox{ for every } E \in \mathcal{M}
    \]
    so, the counterimage of measurable sets in \(Y\) is a measurable set on \(X\).
\end{definition}
To check if a function is measurable or not, it is often sed the following proposition
\begin{proposition}
    \((X, \mathcal{M}), (Y, \mathcal{N})\) measurable spaces. Let \(\mathcal{F} \subseteq \mathcal{P}(Y)\) be s.t. \(\mathcal{N} = \sigma_0(\mathcal{F})\). Then
    \[
        f: X \to Y \mbox{ is } (\mathcal{M}, \mathcal{N})-\mbox{measurable} \Longleftrightarrow f^{-1}(E) \in \mathcal{M} \mbox{ for every } E \in \mathcal{F}
    \]
\end{proposition}
\end{document}