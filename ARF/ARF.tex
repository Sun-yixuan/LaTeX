\documentclass[a4paper,12pt]{article}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hhline}
\usepackage{hyperref}
\usepackage{bm}
\usepackage[margin=2cm]{geometry}

\usepackage{amsthm}

\usepackage{tabularx}
\usepackage{graphicx}

\usepackage{textcomp}


\newlength\mylength
\setlength\mylength{0.1cm}
\newcolumntype{Y}{>{\Centering\arraybackslash}X}

\AtBeginEnvironment{array}{\everymath{\displaystyle}}
\newtheoremstyle{break}
  {\partopsep}{\topsep}%  
  {\normalfont}{}
  {\bfseries}{}%
  {\newline}{}%
  \theoremstyle{break}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{remark}[section]{Remark}
\newtheorem{lemma}{Lemma}[section]
\renewcommand*{\proofname}{\textbf{Proof}}
\renewcommand\qedsymbol{$\bigstar$}
\newtheorem{definition}{Definition}[section]
\renewcommand\labelenumi{(\theenumi)}

\let\oldemptyset\emptyset
\let\emptyset\varnothing

\newcommand{\ind}{\perp\!\!\!\!\perp} 
\newcommand{\measurespace}{(X, \mathcal{M}, \mu)}
\newcommand{\sigalg}{\sigma\mbox{-algebra}}
\newcommand{\boreal}{\mathcal{B}(\mathbb{R})}
\newcommand{\real}{\mathbb{R}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\xdownarrow}[1]{%
  {\left\downarrow\vbox to #1{}\right.\kern-\nulldelimiterspace}
}
\newcommand{\xuparrow}[1]{%
  {\left\uparrow\vbox to #1{}\right.\kern-\nulldelimiterspace}
}
\newcommand{\arrvline}{\hfil\kern\arraycolsep\vline\kern-\arraycolsep\hfilneg}

\long\def\symbolfootnotemark[#1]#2{\begingroup%
\def\thefootnote{\fnsymbol{footnote}}\footnotetext[#1]{#2}\footnotemark[#1]\endgroup}

\long\def\symbolfootnotetext[#1]#2{\begingroup%
\def\thefootnote{\fnsymbol{footnote}}\footnotetext[#1]{#2}\endgroup}


\numberwithin{equation}{section}





\begin{document}
\title{Notes from Real and Functional Analysis}
\author{Andrea }
\date{\today}
\maketitle
\newpage
\input{Lezioni/2022_09_12/2022_09_12}
\input{Lezioni/2022_09_14/2022_09_14.tex}
\section{Lesson 15/09/2022}
The elements of \(\overline{\mathcal{M}}\) are sets of the type \(E \cup N\), with \(E \in \mathcal{M}\) and \(\bar{\mu}(N) = 0\).
\subsubsection*{Outer measure}
We wish to define a measure \(\lambda\) ``on \(\mathcal{R}\)'' with the following properties:
\begin{enumerate}
    \item \(\lambda((a,b)) = b-a\)
    \item \(\lambda(E + t)\symbolfootnotemark[2]  \; = \lambda(E)\) for every measurable set \(E \subset \mathbb{R}\) and \(t \in \mathbb{R}\)
\end{enumerate}
\symbolfootnotetext[2]{\(\left\lbrace x \in \mathbb{R} : x=y+t, \mbox{ with } y \in E\right\rbrace\)}
It would be nice to define such a measure on \(\mathcal{P}(\mathbb{R})\). In such case, note that \(\lambda(\left\lbrace x \right\rbrace) = 0\), \(\forall \; x \in \mathbb{R}\)
But then 
\begin{theorem}[Ulam]
    The only measure on \(\mathcal{P}(\mathbb{R})\) s.t. \(\lambda(\left\lbrace x \right\rbrace) = 0 \quad \forall \; x\) is the trivial measure. Thus, a measure satisfying the two properties of the outer measure cannot be defined on \(\mathcal{P}(\mathcal{R})\)
\end{theorem}
We'll learn in what follows how to create a measure space on \(\mathcal{R}\), with a \(\sigalg\) including all the Borel sets, and a measure satisfying properties of the outer measure. This is the so called \textbf{Lebesgue measure}.
\begin{definition}
    Given a set \(X\). An \textbf{outer measure} is a function \(\mu^* : \mathcal{P}(\mathbb{R}) \to [0, +\infty]\) s.t. 
    \begin{itemize}
        \item \(\mu^*(\emptyset) = 0\)
        \item \(\mu^*(A) \leq \mu^*(B)\) if \(A \subseteq B\) (Monotonicity)
        \item \(\mu^*(\bigcup_{n=1}^{\infty} E_n) \leq \sum_{n=1}^{\infty} \mu^*(E_n)\) (\(\sigma\)-subadditivity)
    \end{itemize}
\end{definition}
The common way to define an outer measure is to start with a family of elementary sets \(\mathcal{E}\) on which a notion of measure is defined (e.g. intervals on \(\mathcal{R}\), rectangles on \(\mathcal{R}^2, \ldots\)) and then to approximate arbitrary sets from outside by \textbf{countable} unions of members of \(\mathcal{E}\).
\begin{proposition}
    Let \(\mathcal{E} \subset \mathcal{P}(\mathbb{R})\) and \(\rho : \mathcal{E} \to [0, +\infty]\) be such that \(\emptyset \in \mathcal{E}, X \in \mathcal{E}\) and \(\rho(\emptyset) = 0\). For any \(A \in \mathcal{P}(X)\), let 
    \[\mu^*(A) := \inf \left\lbrace \sum_{n=1}^{\infty} \rho (E_n) : E_n \in \mathcal{E} \mbox{ and } A \subset \bigcup_{n=1}^{\infty} E_n \right\rbrace\]
    Then \(\mu^*\) is an outer measure, the outer measure generated by \((\mathcal{E}, \rho)\).
\end{proposition}
\begin{proof}
    \(\forall \; A \subset X \; \exists \left\lbrace E_n \right\rbrace \subset \mathcal{E}\) s.t. \(A \subset \bigcup_n E_n : \mbox{ take } E_n = X \forall \; n\)
    then \(\mu^*\) is well defined. Obviously, \(\mu^*(\emptyset) = 0\) (with \(E_n = \emptyset \quad \forall\; n\)), and \(\mu^*(A) \leq \mu^*(B)\) for \(A \subset B\) (any covering of \(B\) with elements of \(\mathcal{E}\) is also a covering of \(A\).)

    We have to prove the \(\sigma\)-subadditivity. Let \(\left\lbrace A_n \right\rbrace_{n \in \mathbb{N}} \subseteq \mathcal{P}(X)\) and \(\epsilon > 0\). For each \(n, \exists \left\lbrace E_{n_j} \right\rbrace_{j \in \mathbb{N}} \in \mathcal{E}\) s.t. \(A_n \subset \bigcup_{i = 1}^{\infty} E_{n_j}\) and \(\sum_{j=1}^{\infty} \rho(E_{n_j}) \leq \mu^*(A_n) + \frac{\epsilon}{2^n}\).  
    But then, if \(A = \bigcup_{n=1}^{\infty} A_n\), we have that \(A \subset \bigcup_{n,j \in \mathbb{N}^2} E_{n_j}\) and
    \[
        \mu^*(A) \leq \sum_{n,j} \rho(E_{n_j}) \leq \sum_{n} \left(\mu^*(A_n) + \frac{\epsilon}{2^n}\right) = \sum_{n} \mu^*(A_n) + \epsilon
    \]
    Since \(\epsilon\) is arbitrary, we are done.
\end{proof}
Ex:  
\begin{enumerate}
    \item \(X \in \mathbb{R}, \mathcal{E} = \left\lbrace (a,b) : a \leq b, a,b \in \mathbb{R} \right\rbrace \mbox{ family of open intervals:} \)
    \[
        \rho((a,b)) = b-a
    \]
    
    \item \(X = \mathbb{R}^n, \mathcal{E} = \left\lbrace (a_1, b_1) \times \ldots \times (a_n, b_n) : a_i \leq b_i, a_i, b_i \in \mathbb{R} \right\rbrace\): 
    \[
        \rho((a_1, b_1)\times \ldots \times (a_n, b_n)) = (b_1 -a_1) \cdot \ldots \cdot (b_n - a_n)
    \]
\end{enumerate}
\begin{remark}
    \(E \in \mathcal{E} \Longrightarrow \mu^*(E) = \rho(E)\).  

    In examples 1 and 2, we have in fact \(\mu^*((a,b)) = b-a, \mu^*\left((a_1, b_1) \times \ldots \times (a_n, b_n)\right) = \prod_{i=1}^{n} (b_i - a_i)\) 
\end{remark}
To pass from the outer measure to a measure there is a condition 
\begin{definition}[Caratheodory condition]
    If \(\mu^*\) is an outer measure on \(X\), a set \(A \subset X\) is called \(\mu^*\)-\textbf{measurable} if 
    \[
        \mu^*(E) = \mu^*(E \cap A) + \mu^*(E \cap A^C) \quad \forall \; E \subset X
    \]
\end{definition}
\begin{remark}
    If \(E\) is a ``nice'' set containing \(A\), then the above equality says that the outer measure of \(A\), \(\mu^*(E \cap A)\), is equal to \(\mu^*(E) - \mu^*(E \cap A^C)\), which can be thought as an ``inner measure''. So basically we are saying that \(A\) is measurable if the outer and inner measure coincide. (Like the definition of Riemann integration with lower and upper sum)
\end{remark}
\begin{remark}
    \(\mu^*\) is subadditive by def \(\Longrightarrow \mu^*(E) \leq \mu^*(E \cap A) + \mu^*(E \cap A^C) \quad \forall \; E, A \subset X\).  
    So, to prove that a set is \(\mu^*\)-measurable it is enough to prove the reverse inequality, \(\forall \; E \subset X\). In fact, if \(\mu^*(E) = +\infty\), then \(+\infty \geq \mu^*(E \cap A) + \mu^*(E \cap A^C)\), and hence \(A\) is \(\mu^*\)-measurable iff 
    \[
        \mu^*(E) \geq \mu(E \cap A) + \mu^*(E \cap A^C) \quad \forall \; E \subset X \mbox{ with } \mu^*(E) < +\infty
    \] 
\end{remark}
Their relevance to the notion of \(\mu^*\)-measurability is clarified by the following
\begin{theorem}[Caratheodory]
    If \(\mu^*\) is an outer measure on \(X\), the family
    \[
        \mathcal{M} = \left\lbrace A \subseteq X : A \mbox{ is }\mu^*\mbox{-measurable}\right\rbrace
    \]
    is a \(\sigalg\) and \(\mu^*\vert_{\mathcal{M}}\) is a complete measure.
\end{theorem}
\begin{lemma}
    If \(A \subset X\) and \(\mu^*(A) = 0\), then \(A\) is \(\mu^*\)-measurable.
\end{lemma}
\begin{proof}
    Let \(E \subset X\) with \(\mu^*(E) < +\infty\). Then 
    \[
        \mu^*(E) \geq \mu^*(E) + \mu^*(A) \overset{\symbolfootnotemark[3]{3}}{\geq}  \mu^*(E \cap A) + \mu^*(E \cap A^C)
    \]
    \symbolfootnotetext[3]{\(E \cap A^C \subseteq E\) and \(E\cap A \subseteq A\) + monotonicity}
    This implies that A is \(\mu^*\)-measurable.
\end{proof}
To sum up: \(X \mbox{ set}, (\mathcal{E}, \rho)\)elementary and measurable sets, so \(\mu^*\) is an outer measure. Then given \(\mu^*\) and the Caratheodory condition, we have \((X, \mathcal{M}, \mu)\) that is a complete measure space.
\begin{remark}
    So far we did not prove that \(\mathcal{E} \subseteq \mathcal{M}\). We will do it in a particular case.
\end{remark}
\subsubsection*{Lebesgue measure}
\begin{itemize}
\item \(X = \mathbb{R}\), \(\mathcal{E}\) family of open intervals, \(\rho((a,b)) = b-a = \lambda((a,b))\), the complete measure space is \((\mathbb{R}, \mathcal{L}(\mathbb{R}), \lambda)\) with \(\mathcal{L}(\mathbb{R})\) the Lebesgue-measurable sets on \(\mathbb{R}\) and \(\lambda\) the Lebesgue measure on \(\mathbb{R}\).
\item \(X = \mathbb{R}^n\), \(\mathcal{E} = \left\lbrace \prod_{k = 1}^n (a_k, b_k): a_k \leq b_k \quad \forall \; k = 1,\ldots, n \right\rbrace\), \(\rho\left(\prod_{k = 1}^n (a_k, b_k)\right) = \prod_{k=1}^n (b_k - a_k)\) and this is a complete measure space \((\mathbb{R}^n, \mathcal{L}(\mathbb{R}^n), \lambda_n)\)
\end{itemize}
\section{Lesson 21/09/2022}
\subsubsection*{Lebesgue measure}
\(\mathcal{E}\) = family of open intervals (a,b), \(a,b \in \mathbb{R}^*, a < b\). \(\rho =\) lenght \(l\).
\(\rho((a,b)) = b - a\). 

\underline{Notations:} open interval \(I\) with lenght \(l(I)\)
\subsubsection*{Outer measure}
\(E \subset \real\). The outer measure of \(E\) is 
\[
    \lambda^*(E) = \inf \left\lbrace \sum_{n=1}^{+\infty} l(I_n) \vert I_n \mbox{ is an open interval, } E \subset \bigcup_{n = 1}^{\infty} I_n \right\rbrace
\]
\subsubsection*{Caratheodory condition (CC)}
\(A \subset \real\) is \(\lambda^*\)-measurable if 
\[
    \lambda^*(E) = \lambda^*(E \cap A) + \lambda^*(E \cap A^C) \qquad \forall \; E \subset \real
\]
\[
    \left\lbrace A \subset \real : A \mbox{ is }\lambda^*\mbox{-measurable} \right\rbrace =: \mathcal{L}(\real)
\tag*{(Lebesgue \(\sigalg\))}\]
\[
    \lambda := \lambda^* \vert_{\mathcal{L}(\real)}
\tag*{(Lebesgue measure on \(\real\))}\]
Then, \((\real, \mathcal{L}(\real), \lambda)\) is a complete measure space. In particular, \(\lambda^*(A) = 0 \Longrightarrow A \in \mathcal{L}(\real)\) and \(\lambda(A) = 0\).
\begin{remark}[CC-Criterion for measurability]
    To check that \(A\) is \(\lambda^*\)-measurable, it is sufficient to check that 
    \[
        \lambda^* \geq \lambda^*(E \cap A) + \lambda^*(E \cap A^C)
    \] for every \(E \subset \real\) rith \(\lambda^*(E) < +\infty\)
\end{remark}
\begin{proposition}
    Any countable set is measurable, with \(0\) Lebesgue measure.
\end{proposition}
\begin{proof}
    Let \(a \in \real\), \[\left\lbrace a \right\rbrace \subseteq (a-\epsilon, a+\epsilon), \forall \; \epsilon > 0 \overset{\mbox{by def.}}{\Longrightarrow} \lambda^*(\left\lbrace a \right\rbrace) \leq 2\epsilon \overset{\mbox{lim}}{\Longrightarrow} \lambda^*(\left\lbrace a \right\rbrace) = 0\]
    \(\left\lbrace a \right\rbrace\) is measurable with \(\lambda(\left\lbrace a \right\rbrace) = 0, \forall \; a \in \real\). Now if a set \(A\) is countable, \(A = \left\lbrace a_n \right\rbrace_{n \in \mathbb{N}} = \bigcup_n \left\lbrace a_n \right\rbrace\) (disjoint) \(\Longrightarrow \lambda(A) \underset{\sigma-add}{=} \sum_n \lambda(\left\lbrace a_n \right\rbrace) = 0\)
\end{proof}
\begin{remark}
    \(\lambda(\mathbb{Q} = 0)\). \(\mathbb{Q}\) is dense on \(\real\), \(\bar{\mathbb{Q}} = \real\). In general, measure theoretical info and topological info cannot be compared.
\end{remark}
\begin{proposition}
    \(\boreal \subseteq \mathcal{L}(\real)\)
\end{proposition}
\begin{remark}
    So far we didn't prove the fact that open intervals are \(\mathcal{L}\)-measurable.
\end{remark}
\begin{proof}
    We know that \(\boreal\) is generated by \(\left\lbrace (a, +\infty) : a \in \real \right\rbrace\). Then, we can directly show that \((a, +\infty) \in \mathcal{L}(\real) \quad \forall \; a \in \real\). Let \(a \in \real\) be fixed. We use the criterion for measurability and we check that 
    \[
        \lambda^* (E) \geq \lambda^*\underbrace{(E \cap (a, +\infty)}_{=: E_1} + \lambda^*\underbrace{(E \cap (-\infty, a])}_{=:E_2} \quad \forall\; E \subset \real, \, \lambda^* < +\infty
    \]
    Since \(\lambda^*(E) < +\infty\), \(\exists\) a countable union \(\bigcup_n I_n \supset E\), where \(I_n\) is an open interval \(\forall \; n\) and 
    \[
        \sum_n l(I_n) \leq \lambda^*(E) + \epsilon
    \]
    Let \(I^1_n := I_n \cap E_1, I^2_n := I_n \cap (-\infty, a + \frac{\epsilon}{2^n})\). These are open intervals:
    \[
        E_1 \subset \bigcup_n I^1_n \qquad E_2 \subset_n I^2_n
    \tag*{countable unions}\]
    and moreover 
    \[
        l(I_n) \geq l(I^1_n) + l(I^2_n) - \frac{\epsilon}{2^n}
    \]
    By definition of \(\lambda^*\), \(\lambda^*(E_1) \leq \sum_n l(I^1_n)\) and \(\lambda^* (E_2) \leq \sum_n l(I^2_n)\), therefore 
    \[
        \lambda^*(E_1) + \lambda^*(E_2) \leq \sum_n l(I^1_n) + \sum_n l(I^2_n) \leq \sum_n \left(l(I_n) +\frac{\epsilon}{2^n}\right) = \left(\sum_n l(I_n)\right) + \epsilon \leq \lambda^*(E) + 2\epsilon
    \]
    Since \(\epsilon\) was arbitrarily chosen, we have
    \[
        \lambda^*(E) \geq \lambda^*(E_1) + \lambda^*(E_2)
    \]  
    which is the thesis.
\end{proof}
So, the Lebesgue measure measures all the open, closed \(G_{\delta}\), \(F_{\delta}\) sets. Clearly
\[
    \lambda((a,b)) = b-a
\]
One can also show that \(\lambda\) is invariant under translation. 

\underline{Questions:} \(\boreal \subseteq \mathcal{L}(\mathbb{R}) \subseteq \mathcal{P}(\real)\), is it a strict inclusion or not?
\begin{itemize}
    \item By Ulam's theorem, if a measure is such that \(\lambda \left(\left\{ a \right\}\right) = 0, \forall \; a\) and all the sets in \(\mathcal{P}(\real)\) are measurable, then \(\lambda \equiv 0\). This and the fact that \(\lambda\left(\left(a,b\right)\right) \not = 0\) simply that \(\mathcal{L}(\real) \subsetneqq\symbolfootnotemark[3]{I had no choice} \mathcal{P}(\real) : \exists \mbox{ non-measurable sets}\) called Vitali sets. Every measurable set with positive measure contains a Vitali set. (\href{https://math.stackexchange.com/questions/137949/the-construction-of-a-vitali-set}{Explanation})
    \item \(\boreal \subsetneqq \mathcal{L}(\real)\). The construction of a \(\mathcal{L}\)-measurable se which is not a Borel set will be done during exercise classes.
\end{itemize}
The relation between \(\boreal\) and \(\mathcal{L}(\real)\) is clarified by 

\begin{theorem}[Regularity of \(\lambda\)]
    The following sentences are equivalent:
    \begin{enumerate}
        \item \(E \in \mathcal{L}(\real)\)
        \item \(\forall \; \epsilon > 0 \exists \; A \supset E\), \(A \mbox{ open}\) s.t.
        \[
            \lambda \left(A \backslash E\right) < \epsilon
        \]
        \item \(\exists \; G \supset E\), \(G \mbox{ of class } G_{\delta}\), s.t. 
        \[
            \lambda(G\backslash E) = 0
        \]
        \item \(\exists \; C \subset E\), \(C \mbox{ closed}\), s.t. 
        \[
            \lambda(E\backslash C) = 0
        \]
        \item \(\exists \; F \subset E\), \(F \mbox{ of class } F_{\delta}\), s.t. 
        \[
            \lambda(E\backslash F) = 0
        \]
    \end{enumerate}
\end{theorem}
\underline{\textbf{Consequence:}} \(E \in \mathcal{L}(\real) \Longrightarrow E = F \cup N\), where \(F\) is of class \(F_{\delta}\), and \(\lambda(N) = 0\).
\begin{proof}[Partial proof]
    For simplicity, we will consider only sets with finite measure.
    \begin{itemize}
        \item[\((1) \Rightarrow (2)\)] \(E \in \mathcal{L}(\real)\). By definition of \(\lambda^*\), \(\forall \; \epsilon > 0 \exists \; \bigcup_n I_n \supset E\) s.t. each \(I_n\) is an open interval, and 
        \[
            \lambda(E) = \lambda^*(E) \geq \sum_n l(I_n) -\epsilon
        \]
        We define \(A = \bigcup_n I_n\), which is open. Also \(A \supset E\) and 
        \[
            \lambda(A)= \lambda\left(\bigcup_n I_n\right) \overset{\sigma-\mbox{sub.}}{\leq} \sum_n l(I_n) \leq \lambda(E) + \epsilon
        \]
        Then, by excision
        \[
            \lambda(A \backslash E) = \lambda(A) - \lambda(E) \leq \epsilon
        \]
        \item[\((2) \Rightarrow (3)\)] Define, for every \(K \in \mathbb{N}\), an open set \(A_k\) s.t. \(A_k \supset E\) and \(\lambda(A_k \backslash E) < \frac{1}{k}\). Let \(A = \bigcap_k A_k\). This is a \(G_{\delta}\) set, it contains \(E\) (since each \(A_k\) contains \(E\)) and 
        \[
            \lambda(A \backslash E) \underset{(A \subset A_k \; \forall \; k)}{\leq} \lambda(A_k \backslash E) < \frac{1}{k} \Longrightarrow \lambda(A \backslash E) = 0 \quad \forall \; k
        \]
        \item[\((3) \Rightarrow (1)\)] If \(E \subset \real\) and \(\exists\; G \supset E\), with \(G\) of class \(G_{\delta},\) s.t. \(\lambda(G \backslash E) = 0\), then
        \[
            E = G \backslash(G \backslash E) \mbox{ is measurable}
        \]
        since \(G\) is a Borel set and \((G \backslash E)\) has \(0\) measure, then both are in \(\mathcal{L}\)
    \end{itemize}
\end{proof}
\begin{remark}
    Any countable set has \(0\) measure. he inverse is false. An example is given by the \textbf{Cantor set}.
    
    Let \(T_0 = [0,1]\). Then we define \(T_{n+1}\) stating from \(T_n\) in the following way:
    given \(T_n\), finite union of closed disjoint intervals of lenght \(l_n (\frac{1}{3})^n\), \(T_{n+1}\) is obtained by removing from each interval of \(T_n\), the open central subinterval of lenght \(\frac{l_n}{3}\).

    The Cantor set is \(T := \bigcap_{k=0}^{+\infty}\). It can be proved that \(T\) is compact, \(\lambda(T) = 0\) and \(T\) is uncountable.

    If, instead of removing intervals of size \(\frac{1}{3}, \frac{1}{9}, \ldots, \frac{1}{3^k}\), we remove sets of size \(\left(\frac{\epsilon}{3}\right)^k\), with \(\epsilon \in (0,1)\), we obtain the \textbf{generalized Cantor set} (or \textbf{fat Cantor set}) \(T_{\epsilon}\). \(T_{\epsilon}\) is uncountable, compact and has no interior points (it contains no intervals). However, \(\lambda(T_{\epsilon}) = \frac{3(1 -\epsilon)}{3 - 2\epsilon} > 0\)
\end{remark}
\begin{remark}
    We worked on \(\real\), but everything can be adapted to \(\real^n\)
\end{remark}
\subsubsection*{Measurable functions and integration}
\begin{definition}
    \(f:X \to Y\), then it is well defined the counterimage 
    \[
        f^{-1} : \mathcal{P}(Y) \to \mathcal{P}(Y)
    \]
    \[
        E \to f^{-1}(E) = \left\{ x \in X : f(x) \in E \right\}
    \]
\end{definition}
\begin{definition}
    \((X, \mathcal{M}), (Y, \mathcal{N})\) measurable spaces. \(f:X \to Y\) is called \textbf{measurable} or \((\mathcal{M}, \mathcal{N})\)-measurable if 
    \[
        f^{-1}(E) \in \mathcal{M} \mbox{ for every } E \in \mathcal{M}
    \]
    so, the counterimage of measurable sets in \(Y\) is a measurable set on \(X\).
\end{definition}
To check if a function is measurable or not, it is often sed the following proposition
\begin{proposition}
    \((X, \mathcal{M}), (Y, \mathcal{N})\) measurable spaces. Let \(\mathcal{F} \subseteq \mathcal{P}(Y)\) be s.t. \(\mathcal{N} = \sigma_0(\mathcal{F})\). Then
    \[
        f: X \to Y \mbox{ is } (\mathcal{M}, \mathcal{N})-\mbox{measurable} \Longleftrightarrow f^{-1}(E) \in \mathcal{M} \mbox{ for every } E \in \mathcal{F}
    \]
\end{proposition}
\section{Lesson 22/09/2022}
We will mainly focus on 2 situations:
\begin{enumerate}
    \item  \(((X, \mathcal{M}))\) is a measurable space obtained by means of an outer measure. Ex: \((\mathbb{R}^n, \mathcal{L}(\mathbb{R}^n))\), \((Y, d_y)\) metric space
    If \(X \to Y\) is (Lebesgue) measurable \(\Longleftrightarrow\) \((\mathcal{M}, \mathcal{B}(Y))\) is measurable
    \item \((X, d_X), (Y, d_Y)\) are metric spaces \(\longrightarrow (X, \mathcal{B}(X))\)
    If \(X \to Y\) are borel measurable \(\Longleftrightarrow (\mathcal{B}(X), \mathcal{B}(Y)) \)measurable
\end{enumerate}
\begin{remark}
     \(f\) is Lebesgue measurable if the continuity of the borel set is a Lebesgue-measurable set.
\end{remark}
\begin{proposition}
    \begin{enumerate}
        \item \((X, d_X), (Y, d_Y)\) metric spaces. If \(X \to Y\) is continuous, then is Borel measurable
        \item \((Y, d_Y)\) metric space. If \(\mathbb{R}^n \to Y\) is continuous, then it is a Lebesgue measure.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \begin{enumerate}
        \item \(f\) is continuous \(\Longleftrightarrow f^{-1}(A)\) is open \(\forall \; A \in Y\)
        open \(\Longrightarrow\) \(f^{-1}(A) \in \mathcal{B}(Y) \; \forall \; A \in Y\) open
        Since \(\mathcal{B}(Y) = \sigma_0(\mbox{open sets})\) by proposition \(1\) thus implies that \(f\) is Borel measurable
        \item \(f\) is continuous \(\Longrightarrow\) \(f\) is Borel measurable
        mancano pezzi namely \(f\) is Lebesgue measurable
    \end{enumerate}
\end{proof}
\begin{proposition}
    \((X, \mathcal{M})\) measurable space, \((X, d_Y), (Y, d_Y)\) metric spaces. 
    if \(f: X \to Y\) is \(\mathcal{M}, \mathcal{B}(Y)\)-measurable and \(g : Y \to Z\) is continuous \(\Longrightarrow\) \(g \circ f : x \to Z\) is \(\mathcal{M}, \mathcal{B}(Y)\)-measurable
\end{proposition}
\begin{proposition}
    \((X, \mathcal{M})\) measurable space 
    Let \(\Phi : \mathbb{R}^n \to Y\) be continuous where \((Y, d_Y)\) is a metric space. Then \(h: X\to Y\) defined by \(h(x) = \Phi(u(x), boh)\) is \(\mathcal{M}, \mathcal{B}(Y)\)-measurable.
\end{proposition}
\begin{proof}
    Define \(f: X \to \mathbb{R}^n\), \(f(x) = u(x), v(x)\). By def \(h = \Phi \circ f\) by prop 3 if we show that \(f\) is measurable, then \(h\) is measurable. It can be proved that \[\mathcal{B}(\mathbb{R}^2) = \sigma_0 \left(\left\lbrace (a_1, b_1) \times (a_2, b_2): a,b \in \mathbb{R}\right\rbrace\right)\]
    pezzi
    \(f^{-1}(\mathcal{R} \in \mathcal{M}) \quad \forall \mbox{open rectangle in }\mathcal{R}^2\)
    \(R = I \times J\)
    \(F^{-1} = \left\lbrace x \in X \right\rbrace\) 
\end{proof}
\begin{remark}
    roba 
    \[
        g(x) = \begin{cases}
            x & \mbox{where } x \geq 0 \\
            0 & \mbox{where } x < 0
        \end{cases}
    \]
\end{remark}
cosine 
\((X,\mathcal{M})\) measurable space, then such a  function f is measurable iff
\[
    f^{-1}(a, +\infty)] \in \mathcal{M} \quad \forall a \in \mathcal{R}
\]
LEt now \(\left\lbrace f_n \right\rbrace\) be a Sequence of measurable functions from \(X\) to \(\bar{\mathcal{R}}\). Then we define \[
    (\inf_n f_n)(x) = \inf_n f_n(x)
\]
\[
    (\sup_n f_n)(x) = \sup_n f_n(x)
\]
\[
    (\liminf_n f_n)(x) = \liminf_n f_n(x)
\]
\[
    (\limsup_n f_n)(x) = \limsup_n f_n(x)
\]
\[
    (\lim_n f_n)(x) = \lim_n f_n(x) \quad \mbox{if the limit exists}
\]
\begin{proposition}
    \((X, \mathcal{M})\) measurable space, \(f_n : X \to \bar{\mathcal{R}}\) measurable, then 
    \(\sup \inf \liminf \limsup\) of \(f_n\) are measurable, in particular if \(\lim f_n\) exists, then \(f\) is measurable
\end{proposition}
\begin{proof}
    \((\sup f_n)^{-1} ((a, \infty]) = \left\lbrace x \in X : \sup f_n(x) > a \right\rbrace\) (manca pezzi)
    \[
        \bigcup \left\lbrace x \in X : f_n(x) > a \right\rbrace
    \]
    Then \((\sup f_n)^{-1} ((a, \infty])\) is measurable, cose da aggiungere
Noe the limsup
\[\limsup_n f_n = \lim_n (\sup_{k > n} f_n(x))\]
cose cose 
\end{proof}
\subsection*{Simple functions}
\begin{definition}
    \((X, \mathcal{M})\) measurable space. A measurable function s: \(X \to \bar{\mathcal{R}}\) is said to be simple if \(s(X)\) is a finite set 
    altre cose 
    Then \(s(x) = \sum_{n = 1} a_n \chi_{E_n}(x)\) where \(E_n\) is a measurable set 
    sistemare. 
\end{definition}
\underline{Particular case}: if s:\(\mathbb{R} \to \bar{\mathbb{R}}\) and each \(E_n\) is a finite union of intervals, then \(s\) is said to be a STEP FUNCTION.

The idea is to approximate functions with simple functions.
\begin{theorem}
    \((X,\mathcal{M})\) measurable space, \(f: X \to [0, \infty]\) measurable. Then \(\exists\) a sequence \(\left\lbrace s_n \right\rbrace\) of simple functions s.t. 
    \[
        0 \leq s_1 \leq \ldots \leq s_n \leq \ldots \leq f \quad \mbox{pointwise}
    \]
    and \(s_n(x) \to f(x)\)
Moreover if f is bounded then \(s_n \to f\) uniformly on \(X\) as \(n \to \infty\)
\end{theorem}
\begin{proof}[f is bounded]
    Fix \(n \in \mathbb{N}\) and divide \([0,n)\) in \(n \cdot 2^n\) intervals called \(I_j = [a_j,b_j)\) with lenght \(\frac{1}{2^n}\)

    Let \(E_0 = f^{-1}([n, \infty)), E_j = f^{-1}([a_j, b_j))\) for \(j = 1, \ldots, n\cdot 2^n\)
    
    We let Array

    Namely we define 
    \[
    s_n (x) = n\chi_{E_0}(X) + \sum_{j =1}^{n \cdot 2^n} a_j \chi_{E_j}(x)    
    \]
    Then \(s_n \leq s_{n+1}\) by contradiction

    Then any \(x \in X\) stays in \(f^{-1}([a_j, b_j))\) for some j \(\Longrightarrow \) 
\end{proof}
\section{06/10/2022}
\(f \not \in R(I)\). Is it true that \(\exists g \in R(I)\) s.t. \(g = f\) almost everywhere (a.e.) on \(I\)? No.

For instance, consider \(T_{\mathcal{E}}\), the generalized Cantor set (\(\lambda(T_{\mathcal{E}})\)). Consider \(\chi_{\mathcal{E}}\). 
In general, \(\chi_{A}\) is discontinuous on \(\delta A\).  But \(T_{\mathcal{E}}\) has no interior parts \(\Longrightarrow T_{\mathcal{E}} = \delta T_{\mathcal{E}}\) \(\Longrightarrow \chi_{T_{\mathcal{E}}}\) is discontinuous on \(T_{\mathcal{E}}\). cosine

Clearly 
\[
    \int_{[0,1]} \chi_{T_{\mathcal{E}}} d\lambda = \lambda(T_{\mathcal{E}})
\]
so \(\chi_{T_{\mathcal{E}}} \in \mathcal{L}^1([0,1])\).  
If \(g = \chi_{T_{\mathcal{E}}}\) a.e., then \(g\) is discontinuous at almost every part of \(T_{\mathcal{E}} \Longrightarrow\) \(g\) is discontinuous on a set of positive measure \(\Longrightarrow g \not \in R(I)\). 
So, the Lebesgue integral is a true extension of the Riemann one.

Regarding generalized integrals we have
\begin{theorem}
    \(-\infty \leq a < b \leq +\infty, \quad f \in R^g([a,b])\) where 
    \[
        R^g([a,b]) = \left\lbrace \mbox{Riemann-int functions on }[a,b]\mbox{ in the generalized sense} \right\rbrace
    \]
    Then, \(f\) is \(([a,b], \mathcal{L}([a,b]))\)-measurable. Moreover
    \begin{enumerate}
        \item \(f \geq 0\) on \([a,b] \Longrightarrow f \in \mathcal{L}^1([a,b])\)
        \item \(\vert f \vert \in R^g([a,b]) \Longrightarrow f \in \mathcal{L}^1 ([a,b])\)
    \end{enumerate}
    and in both cases
    \[
        \int_{[a,b]} fd\lambda = \int_a^b f(x)dx
    \]
    If \(f\) is in \(R^g([a,b])\), but \(\vert f\vert \not \in R^g([a,b])\),then the two notions of \(\int\) are not really related
\end{theorem}
Ex:
\(f(x) = \frac{\sin x}{x}, \quad x \in [1, \infty]\)
\[\int_1^{\infty} \vert f(x) \vert dx = +\infty \Longrightarrow f \not \in \mathcal{L}^1([1, +\infty])\].
But on the other hand
\[
    \int_1^{\infty} \frac{\sin x}{x} dx = \lim_{\omega \to \infty} \int_1^{\infty} \frac{\sin x}{x} dx = \frac{\pi}{2}
\]
\subsubsection*{Spaces of integrable functions}
\((X, \mathcal{M}, \mu)\) complete measure space.
\[
    \mathcal{L}^1 = \left\lbrace f: X \to \bar{\mathbb{R}} : \mbox{ f is integrable}\right\rbrace
\]
\(\mathcal{L}^1\) is a vector space. On \(\mathcal{L}^1\) we can introduce \(d : \mathcal{L}^1 \times \mathcal{L}^1 \to [0, +\infty)\) defined by 
\[
    d_1 (f,g) =\int_{X} \vert f-g \vert 
\]
cose 

However, \(d_1\) is not a distance on \(\mathcal{L}^1(X)\), since 
\[
    d_1(f,g) = 0 \Longrightarrow f=g \quad \mbox{a.e on }X
\tag*{(Pseudo-distance)}\]
To overcome this problem, we introduce an equivalent relation in \(\mathcal{L}^1(X)\): we say that 
\[
    f ~ g \Longleftrightarrow f = g \quad \mbox{a.e. on }X
\]
If \(f \in \mathcal{L}^1(X)\), we can consider the equivalence class
\[
    [f] = \left\lbrace g \in \mathcal{L}^1(X) : g = f \mbox{ a.e on }X \right\rbrace
\]
We define
\[
    L^1(X) = \frac{\mathcal{L}^1(X)}{~}
\]
\(L^1(X)\) is a vector space, and on \(L^1(X)\) the function \(d_1\) is a distance: 
\[
    d_1([f], [g]) cosoeocoeoce
\]
To simplify the notations, the elements of \(L^1(X)\) are called functions, and one writes \(f \in L^1(X)\). With this, we means that we choose a representative in \([f]\), and f denotes both the representative and the equivalence class. The representative can be arbitrarily modified on any set with \(0\) measure.

Another relevant space of measurable functions is the space of \textbf{essentially bounded} functions
\begin{definition}
    \(f : X \to \bar{\mathbb{R}}\) measurable is called essentially bounded if \(\exists M > 0\) s.t.
    \[
        \mu(\left\lbrace x \in X : \vert f(x) \vert \geq M \right\rbrace) = 0
    \]
\end{definition}
Ex: 
\[f(x) = \begin{cases}
    1 & x > 0 \\
+\infty & x = 0 \\
0 & x < 0 \\
\end{cases}
\] 
For \(M > 1\), \(\lambda(\left\lbrace x \in \mathbb{R} : \vert f(x) \vert > M\right\rbrace) = \lambda(\left\lbrace 0 \right\rbrace) = 0 \Longrightarrow f\mbox{ is essentially bounded}\).
If \(f\) is essentially bounded, it is well defined the \textbf{essential supremum} of \(f\).
\[
    \underset{X}{esssup} f := \inf \left\lbrace M > 0 \mbox{ s.t. } f \leq M \mbox{ a.e. on }X\right\rbrace = pezzi
\]
It can also be defined on essential inf.
\begin{remark}
    Note that, by def of inf, \(\forall \; \epsilon > 0\) we have 
    \[
        f \leq (\underset{X}{esssup} f) + \epsilon
    \]
\end{remark}
We define 
\[
    L^{\infty} (X, \mathcal{M}, \mu) = \frac{\mathcal{L}^{\infty}(X, \mathcal{M}, \mu)}{~}
\]
\(L^{\infty}(X)\) is a vector space, and it is also a metric space for \(d_{\infty}(f,g) = \underset{X}{essup} \vert f-g \vert\)
\subsubsection*{Relation between different types of convergence}
\(\left\lbrace f_n \right\rbrace\) sequence of measurable functions \(X \to \bar{\mathbb{R}}\)
\begin{itemize}
    \item recupera
    \item \(f_n \to f\) pointwise
    \item \(f_n \to f\) uniformly
    \item \(f_n \to f\)
    \item \underline{Convergence in \(L^1(X)\)}
    \item \underline{Convergence in measure/probability}
\end{itemize}
cose cose parlavo con ila 
\begin{theorem}[Egorov]
    Let \(\mu(X) < +\infty\), and suppose that \(f_n \to f\) a.e. on \(X\). Then, \(\forall \; \epsilon > 0, \exists X_{\epsilon} \subset X\), measurable, s.t. 
    \[
        \mu(X \backslash X_{\epsilon}) < \epsilon
    \]
    and \(f_n \to f\) uniformly on \(X_{\epsilon}\)
\end{theorem}
\begin{theorem}
    If \(\mu(X) < +\infty\) and \(f_n \to f\) a.e. on \(X\) \(\Longrightarrow f_n \to f\) is measure on \(X\)
\end{theorem}
\begin{proof}
    Let \(\alpha > 0\). We want to show that \(\forall \; \epsilon > 0\) \(\exists \bar{n} \in \mathbb{N}\) s.t. 
    \[
        n > \bar{n} \Longrightarrow \mu(\left\lbrace \right\rbrace)
    \]
    altre cosette 
\end{proof}
\begin{remark}
    \(\mu(X) < +\infty\) is essential
\end{remark}
For example, in \((\mathbb{R}, \mathcal{L}(\mathbb{R}), \lambda)\) consider
\[
    f_n (x) = \chi_{[n, n+1)}(x)
\]
\(f_n(x) \to 0\) for every \(x \in \mathbb{R}\). However, \(\lambda(\left\lbrace \vert f_n \vert \geq \frac{1}{2}\right\rbrace) = \lambda([n, n+1)) = 1\) not \(0\)
\end{document}

